<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tersakiti</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<style type="text/css">
 /* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content/Box */
.modal-content {
  background-color: #fefefe;
  margin: 15% auto; /* 15% from the top and centered */
  padding: 20px;
  border: 1px solid #888;
  width: 80%; /* Could be more or less, depending on screen size */
}

/* The Close Button */
.close {
  position: absolute;
  top: 20px;
  right: 30px;
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}
</style> 
</head>
<body>
<nav class="navbar navbar-light bg-light">
	<a class="navbar-brand" href="#">Tersakiti&trade;</a>
	<div id="admin" class="btn-toolbar" role="toolbar" aria-lable="toolbar button" style="display:none;">
		<div class="btn-group mr-2">
			<button class="btn btn-info" onclick="cek('adduserform', true);cek('result', false);" id="adduser">ADD USER</button>
		</div>
		<div class="btn-group mr-2">
			<button class="btn btn-danger" onclick="sign_out()" id="logout">LOGOUT</button>
		</div>
	</div>
</nav>
<div class="alert alert-warning" role="alert" id="error" style="display: none;">
	Error!
</div>
<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="cek('myModal', false)">&times;</span>
        <h2>User Details</h2>
        <p>Email : <span id="email"></span></p>
        <p>License : <span id="licenseuser"></span></p>
        <p>Join : <span id="joindate"></span></p>
        <p>Expired : <span id="expireddate"></span></p>
        <div id="tmpmail"></div>
    </div>
</div>
<div class="container">
	<form id="login" onsubmit="sign_in()" style="display: none;">
		<div class="form-group modal-sm mx-auto">
			<h1 class="text-center">Please sign in</h1>
			<label for="inputEmail" class="mt-2">Email address</label>
			<input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
			<label for="inputPassword" class="mt-2">Password</label>
			<input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
			<input  type="button" class="btn btn-primary btn-block mt-2" onclick="sign_in()" value="Sign in">
			<center><p class="mt-3 mb-3 text-muted">Tersakiti&trade; &copy; 2020</p></center>
		</div>
	</form>
	<form id="adduserform" style="display: none;">
		<div class="form-group modal-sm mx-auto">
			<h1 class="text-center">Add User</h1>
			<label for="inputlicense" class="mt-2">User Email</label>
			<input type="text" id="inputlicense" class="form-control" onkeypress="return event.keyCode != 13" placeholder="Plaease use real email to send license..." required autofocus>
			<input  type="button" class="btn btn-primary btn-block mt-2" onclick="open_url('?add_user='+document.getElementById('inputlicense').value)" value="Add User">
			<input  type="button" class="btn btn-danger btn-block mt-2" onclick="cek('adduserform', false);cek('result', true);" value="Close">
			<center><p class="mt-3 mb-3 text-muted">Tersakiti&trade; &copy; 2020</p></center>
		</div>
	</form>
	<div class="text-center mt-5" id="wait" style="display: none;">
	  <div class="spinner-border" role="status">
	    <span class="sr-only">Loading...</span>
	  </div>
	</div>
	<div class="table-responsive" style="display: none;" id="result">
		<h1 class="mt-3 mb-3 text-center">User List</h1>
		<table class="table table-bordered" id="userlist">
			<thead>
				<tr>
					<th scope="col">Email <span class="badge badge-pill badge-primary" id="total"></span></th>
					<th scope="col">Last Offline</th>
					<th scope="col">Status <a class="badge badge-pill badge-warning" id="online"></a><a class="badge badge-pill badge-primary ml-2" id="offline"></a></th>
					<th scope="col">Action</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>
</div>
<script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-auth.js"></script>
<script type="text/javascript">
var _0x1604=['ZW1haWw=','c3R5bGU=','PHNwYW4gY2xhc3M9ImJhZGdlIGJhZGdlLXBpbGwgYmFkZ2Utd2FybmluZyI+T25saW5lPC9zcGFuPgk8c3BhbiBjbGFzcz0iYmFkZ2UgYmFkZ2UtcGlsbCBiYWRnZS1kYW5nZXIiIHN0eWxlPSJvcGFjaXR5OiAxO3RyYW5zaXRpb246IGFsbCAwLjI1czsiPg==','dXNlcmxpc3Q=','YWRtaW4=','YmxvY2s=','dGhlbg==','JmV4cGlyZWQ9','bG9nb3V0','U2VydmVyVmFsdWU=','dG9Mb2NhbGVUaW1lU3RyaW5n','RXJyb3Igc2VuZCBlbWFpbC4=','aW5wdXRFbWFpbA==','Z2V0RWxlbWVudHNCeVRhZ05hbWU=','VElNRVNUQU1Q','ZXJyb3I=','Y2hpbGQ=','ZW4tVVM=','PGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJzZW5kX2RhdGEoJw==','aW5uZXJIVE1M','JykiPlNlbmQgRW1haWw8L2J1dHRvbj4=','b2ZmbGluZQ==','dmFsdWU=','dXBkYXRl','YWRkdXNlcg==','cmVzcG9uc2VUZXh0','UE9TVA==','U2lnbi1vdXQgc3VjY2Vzc2Z1bA==','LmluZm8vY29ubmVjdGVk','JywgJw==','dG1wbWFpbA==','Tm8gdXNlciBpcyBzaWduZWQgaW4=','PGlucHV0IHR5cGU9J3RleHQnIGNsYXNzPSdmb3JtLWNvbnRyb2wnIHZhbHVlPSc=','aHJlZg==','ZGF0YWJhc2U=','bm93','Y29kZQ==','dXNlcnM=','c2V0UmVxdWVzdEhlYWRlcg==','bGljZW5zZXVzZXI=','aW5zZXJ0Q2VsbA==','dmFs','ZXhwaXJlZA==','am9pbmRhdGU=','Z2V0TW9udGg=','Ly5pbmZvL3NlcnZlclRpbWVPZmZzZXQ=','ZGlzcGxheQ==','c2V0TW9udGg=','cmVhZHlTdGF0ZQ==','cmVtb3Zl','NjQ3OTI2ODU5MjM0','b3Blbg==','c2lnbk91dA==','dGJvZHk=','am9pbg==','c3VjY2VzcyBhZGQgdXNlcg==','ZXhpc3Rz','bG9jYXRpb24=','c2hvcnQ=','PC9zcGFuPg==','cmVm','Q29udGVudC10eXBl','bG9naW4=','b25BdXRoU3RhdGVDaGFuZ2Vk','YWRtaW4uaHRtbA==','X3NlbGY=','JmpvaW49','dGVyc2FraXRp','c2VuZA==','Jywg','JmxpY2Vuc2U9','YXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVk','a2V5','b2Zm','PHNwYW4gY2xhc3M9ImJhZGdlIGJhZGdlLXBpbGwgYmFkZ2UtcHJpbWFyeSI+T2ZmbGluZTwvc3Bhbj4=','bm9uZQ==','cHVzaA==','c2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQ=','Z2V0RWxlbWVudEJ5SWQ=','b25saW5l','RVJST1IgOiA=','bWVzc2FnZQ==','d2FpdA==','aWRf','bnVtZXJpYw==','YXV0aA==','KSI+RGV0YWlsPC9idXR0b24+','IHx8IA==','YWRkX3VzZXI=','QUl6YVN5QkpENWVVVFdVamV0YldFYXVUNWhRS1ZTNjZkUXVUbExF','Y2F0Y2g=','b25yZWFkeXN0YXRlY2hhbmdl','c2VhcmNoUGFyYW1z','bXlNb2RhbA==','dGFyZ2V0','bGFzdF9vZmZsaW5l','dG90YWw=','aW5wdXRQYXNzd29yZA=='];(function(_0x81baed,_0x4123da){var _0x55e333=function(_0x5197fc){while(--_0x5197fc){_0x81baed['push'](_0x81baed['shift']());}};_0x55e333(++_0x4123da);}(_0x1604,0x115));var _0x4536=function(_0x81baed,_0x4123da){_0x81baed=_0x81baed-0x0;var _0x55e333=_0x1604[_0x81baed];if(_0x4536['NQSFjj']===undefined){(function(){var _0x436376;try{var _0x3942df=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x436376=_0x3942df();}catch(_0x57807a){_0x436376=window;}var _0x5b42c6='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x436376['atob']||(_0x436376['atob']=function(_0x4e6581){var _0x4cb876=String(_0x4e6581)['replace'](/=+$/,'');var _0x5977cf='';for(var _0x31cdaf=0x0,_0xc2502b,_0x5ea4e2,_0x42b55d=0x0;_0x5ea4e2=_0x4cb876['charAt'](_0x42b55d++);~_0x5ea4e2&&(_0xc2502b=_0x31cdaf%0x4?_0xc2502b*0x40+_0x5ea4e2:_0x5ea4e2,_0x31cdaf++%0x4)?_0x5977cf+=String['fromCharCode'](0xff&_0xc2502b>>(-0x2*_0x31cdaf&0x6)):0x0){_0x5ea4e2=_0x5b42c6['indexOf'](_0x5ea4e2);}return _0x5977cf;});}());_0x4536['fzhmzU']=function(_0x2d2ae1){var _0x4153df=atob(_0x2d2ae1);var _0x136ef6=[];for(var _0x12f6dd=0x0,_0x3fc028=_0x4153df['length'];_0x12f6dd<_0x3fc028;_0x12f6dd++){_0x136ef6+='%'+('00'+_0x4153df['charCodeAt'](_0x12f6dd)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x136ef6);};_0x4536['FRsiqZ']={};_0x4536['NQSFjj']=!![];}var _0x5197fc=_0x4536['FRsiqZ'][_0x81baed];if(_0x5197fc===undefined){_0x55e333=_0x4536['fzhmzU'](_0x55e333);_0x4536['FRsiqZ'][_0x81baed]=_0x55e333;}else{_0x55e333=_0x5197fc;}return _0x55e333;};var firebaseConfig={'apiKey':_0x4536('0x8'),'authDomain':'tersakiti.firebaseapp.com','databaseURL':'https://tersakiti.firebaseio.com','projectId':_0x4536('0x54'),'storageBucket':'tersakiti.appspot.com','messagingSenderId':_0x4536('0x43'),'appId':'1:647926859234:web:e9ca62b303b037e49a25bb'};firebase['initializeApp'](firebaseConfig);var lastUpdate=0x0;firebase['database']()['ref'](_0x4536('0x3e'))['on'](_0x4536('0x27'),function(_0x547ccf){var _0x40e626=_0x547ccf['val']()||0x0;lastUpdate=Date[_0x4536('0x34')]()+_0x40e626;});function add_data(_0x409183,_0x3ce49f,_0x217ef2,_0xc65cda,_0x2762ed,_0x4844c3){if(_0x4844c3){_0x4844c3=_0x4536('0x13')+new Date(lastUpdate)[_0x4536('0x1b')](_0x4536('0x22'))+_0x4536('0x4c');if(document[_0x4536('0x5f')]('id_'+_0x409183)){document['getElementById'](_0x4536('0x2')+_0x409183)[_0x4536('0x42')]();}}else{_0x4844c3=_0x4536('0x5b');}if(document[_0x4536('0x5f')](_0x409183)){document[_0x4536('0x5f')](_0x409183)[_0x4536('0x24')]=_0x4844c3;}else{var _0x2ef39d=document[_0x4536('0x5f')](_0x4536('0x14'))[_0x4536('0x1e')](_0x4536('0x46'))[0x0];var _0x28de47=_0x2ef39d['insertRow'](0x0);_0x28de47['id']='id_'+_0x409183;var _0x42e423=_0x28de47[_0x4536('0x39')](0x0);_0x42e423[_0x4536('0x24')]=_0x4536('0x31')+_0x3ce49f+'\x27>';var _0x526df4=_0x28de47[_0x4536('0x39')](0x1);_0x526df4[_0x4536('0x24')]=new Date(_0x2762ed)[_0x4536('0x1b')]('en-US',{'month':'short','day':_0x4536('0x3')});var _0x3fc86f=_0x28de47[_0x4536('0x39')](0x2);_0x3fc86f['id']=_0x409183;_0x3fc86f[_0x4536('0x24')]=_0x4844c3;var _0x3805fc=_0x28de47[_0x4536('0x39')](0x3);_0x3805fc[_0x4536('0x24')]='<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x20mr-2\x20mt-2\x22\x20onclick=\x22del_user(\x27'+_0x409183+'\x27)\x22>Delete</button><button\x20class=\x22btn\x20btn-info\x20btn-sm\x20mr-2\x20mt-2\x22\x20onclick=\x22show_data(\x27'+_0x3ce49f+'\x27,\x20\x27'+_0x409183+_0x4536('0x56')+_0x217ef2+',\x20'+_0xc65cda+_0x4536('0x5');}}function show_data(_0x4e8a77,_0x5ee1a9,_0x1b1b7c,_0x27503f){document['getElementById'](_0x4536('0xc'))[_0x4536('0x12')][_0x4536('0x3f')]=_0x4536('0x16');document[_0x4536('0x5f')](_0x4536('0x11'))[_0x4536('0x24')]=_0x4e8a77;document[_0x4536('0x5f')](_0x4536('0x38'))[_0x4536('0x24')]=_0x5ee1a9;var _0x5722f3=new Date(_0x1b1b7c)[_0x4536('0x1b')](_0x4536('0x22'),{'month':_0x4536('0x4b'),'day':'numeric','year':_0x4536('0x3')});document[_0x4536('0x5f')](_0x4536('0x3c'))[_0x4536('0x24')]=_0x5722f3;var _0x4ecf25=new Date(_0x27503f)[_0x4536('0x1b')](_0x4536('0x22'),{'month':_0x4536('0x4b'),'day':'numeric','year':_0x4536('0x3')});document[_0x4536('0x5f')]('expireddate')[_0x4536('0x24')]=_0x4ecf25;document[_0x4536('0x5f')](_0x4536('0x2f'))[_0x4536('0x24')]=_0x4536('0x23')+_0x4e8a77+_0x4536('0x2e')+_0x5ee1a9+_0x4536('0x2e')+_0x5722f3+_0x4536('0x2e')+_0x4ecf25+_0x4536('0x25');}function send_data(_0x41a18e,_0x48bb1d,_0xc3185b,_0x5d3056){var _0x194bfd=new XMLHttpRequest();var _0x462897='https://viptersakiti.000webhostapp.com/admin/mail.php';var _0x5e3031='email='+_0x41a18e+_0x4536('0x53')+_0xc3185b+_0x4536('0x18')+_0x5d3056+_0x4536('0x57')+_0x48bb1d;_0x194bfd[_0x4536('0x44')](_0x4536('0x2b'),_0x462897,!![]);_0x194bfd[_0x4536('0x37')](_0x4536('0x4e'),_0x4536('0x58'));_0x194bfd[_0x4536('0xa')]=function(){if(_0x194bfd[_0x4536('0x41')]==0x4&&_0x194bfd['status']==0xc8){err(_0x194bfd[_0x4536('0x2a')]);cek(_0x4536('0x1'),![]);open_url(_0x4536('0x51'));}else{err(_0x4536('0x1c'));}};_0x194bfd[_0x4536('0x55')](_0x5e3031);cek(_0x4536('0xc'),![]);cek(_0x4536('0x1'),!![]);}function get_data(){cek(_0x4536('0x1'),!![]);var _0x359206=firebase[_0x4536('0x33')]()[_0x4536('0x4d')](_0x4536('0x36'));var _0x48c473=firebase[_0x4536('0x33')]()['ref'](_0x4536('0x2d'));_0x48c473['on'](_0x4536('0x27'),function(_0x537b5c){if(_0x537b5c[_0x4536('0x3a')]()===!![]){_0x359206['on'](_0x4536('0x27'),function(_0x59c233){if(_0x59c233[_0x4536('0x49')]()){var _0x3a6075=_0x59c233[_0x4536('0x3a')]();var _0x14bc22=0x0;var _0x407120=0x0;var _0x584818=0x0;for(var _0x4d70c8 in _0x3a6075){add_data(_0x4d70c8,_0x3a6075[_0x4d70c8][_0x4536('0x11')],_0x3a6075[_0x4d70c8][_0x4536('0x47')],_0x3a6075[_0x4d70c8][_0x4536('0x3b')],_0x3a6075[_0x4d70c8][_0x4536('0xe')],_0x3a6075[_0x4d70c8][_0x4536('0x60')]);if(_0x3a6075[_0x4d70c8][_0x4536('0x60')]){++_0x407120;}else{++_0x584818;}++_0x14bc22;}cek(_0x4536('0x1'),![]);document['getElementById'](_0x4536('0xf'))[_0x4536('0x24')]=_0x14bc22;document['getElementById'](_0x4536('0x60'))[_0x4536('0x24')]=_0x407120;document['getElementById'](_0x4536('0x26'))[_0x4536('0x24')]=_0x584818;}},function(_0x514254){err(_0x514254[_0x4536('0x0')]);});}},function(_0x47c1b8){err(_0x47c1b8[_0x4536('0x0')]);});cek('result',!![]);}function open_url(_0x23913f){window[_0x4536('0x44')](_0x23913f,_0x4536('0x52'));}function add_user(_0x53a0a1){cek(_0x4536('0x1'),!![]);var _0x383139=firebase[_0x4536('0x33')]()[_0x4536('0x4d')](_0x4536('0x36'));var _0x42192b=_0x383139[_0x4536('0x5d')]()[_0x4536('0x59')];var _0x5a5498=new Date();var _0x2634ec=_0x5a5498[_0x4536('0x40')](_0x5a5498[_0x4536('0x3d')]()+0x1);_0x383139['on'](_0x4536('0x27'),function(_0x4f9e3d){if(_0x4f9e3d[_0x4536('0x49')]()){var _0x5e3340={};_0x5e3340[_0x42192b]={'email':_0x53a0a1,'join':firebase[_0x4536('0x33')][_0x4536('0x1a')][_0x4536('0x1f')],'expired':_0x2634ec,'last_offline':firebase[_0x4536('0x33')][_0x4536('0x1a')][_0x4536('0x1f')],'online':![]};_0x383139['off'](_0x4536('0x27'));_0x383139[_0x4536('0x28')](_0x5e3340);cek(_0x4536('0x1'),![]);err(_0x4536('0x48'));cek(_0x4536('0x1'),![]);open_url(_0x4536('0x51'));}},function(_0x27eacb){err(_0x27eacb[_0x4536('0x0')]);});}function del_user(_0xc9e27e){var _0x37920a=firebase[_0x4536('0x33')]()[_0x4536('0x4d')](_0x4536('0x36'));_0x37920a['on'](_0x4536('0x27'),function(_0x403636){if(_0x403636[_0x4536('0x49')]()){_0x37920a[_0x4536('0x21')](_0xc9e27e)[_0x4536('0x42')]();cek(_0x4536('0x1'),![]);err('success\x20delete\x20user');_0x37920a[_0x4536('0x5a')](_0x4536('0x27'));open_url('admin.html');}},function(_0x247584){err(_0x247584[_0x4536('0x0')]);});}function cek(_0x1f7a72,_0x279b36){if(_0x279b36){document[_0x4536('0x5f')](_0x1f7a72)[_0x4536('0x12')]['display']='block';}else{document['getElementById'](_0x1f7a72)[_0x4536('0x12')][_0x4536('0x3f')]='none';}}function err(_0x3ae297){document[_0x4536('0x5f')](_0x4536('0x20'))[_0x4536('0x24')]=_0x3ae297;document[_0x4536('0x5f')]('error')[_0x4536('0x12')][_0x4536('0x3f')]=_0x4536('0x16');}function sign_in(){cek(_0x4536('0x1'),!![]);var _0x566036=document['getElementById'](_0x4536('0x1d'))[_0x4536('0x27')];var _0x26a7c2=document[_0x4536('0x5f')](_0x4536('0x10'))[_0x4536('0x27')];firebase[_0x4536('0x4')]()[_0x4536('0x5e')](_0x566036,_0x26a7c2)[_0x4536('0x9')](function(_0x31f7f7){err(_0x4536('0x61')+_0x31f7f7[_0x4536('0x35')]+_0x4536('0x6')+_0x31f7f7[_0x4536('0x0')]);cek(_0x4536('0x1'),![]);});}function get_user(){var _0x266d5d=new URL(window[_0x4536('0x4a')][_0x4536('0x32')]);var _0xe28a43=_0x266d5d[_0x4536('0xb')]['get'](_0x4536('0x7'));return _0xe28a43;}var unsubscribe=firebase[_0x4536('0x4')]()[_0x4536('0x50')](function(_0x1a0470){if(_0x1a0470){cek(_0x4536('0x4f'),![]);cek(_0x4536('0x20'),![]);cek(_0x4536('0x19'),!![]);cek(_0x4536('0x29'),!![]);cek(_0x4536('0x15'),!![]);if(get_user()!=null){add_user(get_user());}else{get_data();}}else{cek(_0x4536('0x4f'),!![]);cek(_0x4536('0x19'),![]);cek(_0x4536('0x29'),![]);err(_0x4536('0x30'));}});function sign_out(){firebase[_0x4536('0x4')]()[_0x4536('0x45')]()[_0x4536('0x17')](function(){err(_0x4536('0x2c'));open_url(_0x4536('0x51'));})[_0x4536('0x9')](function(_0x572126){err('An\x20error\x20happened');open_url(_0x4536('0x51'));});}window['onclick']=function(_0xa75e55){var _0x4d8474=document[_0x4536('0x5f')](_0x4536('0xc'));if(_0xa75e55[_0x4536('0xd')]==_0x4d8474){_0x4d8474[_0x4536('0x12')][_0x4536('0x3f')]=_0x4536('0x5c');}};
</script>
</body>
</html>
